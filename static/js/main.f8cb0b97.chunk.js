(this["webpackJsonptrybe-wallet"]=this["webpackJsonptrybe-wallet"]||[]).push([[0],{31:function(e,t,a){e.exports=a(45)},36:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),i=a.n(c),o=a(20),l=(a(36),a(12)),s=a(3),u=a(4),d=a(6),m=a(5),p=a(2),h=a(15),E=a(13),b=(a(41),function(){return function(e){return e({type:"REQUEST_COINS"}),fetch("https://economia.awesomeapi.com.br/json/all").then((function(e){return e.json()})).then((function(t){return e(function(e){return{type:"REQUEST_COINS_SUCCESS",data:e}}(t))})).catch((function(t){return e({type:"REQUEST_COINS_ERROR",data:t})}))}});var f=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",statusPass:!1,statusEmail:!1},n.readForm=n.readForm.bind(Object(E.a)(n)),n.validEmail=n.validEmail.bind(Object(E.a)(n)),n.validPassword=n.validPassword.bind(Object(E.a)(n)),n}return Object(u.a)(a,[{key:"readForm",value:function(e){var t=this,a="checkbox"===e.target.type?e.target.checked:e.target.value;this.setState(Object(h.a)({},e.target.name,a),(function(){return t.validationAll()}))}},{key:"validEmail",value:function(){this.state.email.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/gim)?this.setState({statusEmail:!0}):this.setState({statusEmail:!1})}},{key:"validPassword",value:function(){this.state.password.length<6?this.setState({statusPass:!1}):this.setState({statusPass:!0})}},{key:"validationAll",value:function(){this.validEmail(),this.validPassword()}},{key:"render",value:function(){var e=this.state,t=e.statusPass,a=e.statusEmail,n=e.email,c=this.props.saveLogin;return r.a.createElement("section",{className:"login"},r.a.createElement("h1",null," Sistema Trybe Wallet "),r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"control has-icons-left has-icons-right"},r.a.createElement("input",{className:"input",type:"email",name:"email",placeholder:"E-mail","data-testid":"email-input",onChange:this.readForm,required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"control has-icons-left"},r.a.createElement("input",{className:"input",type:"password",name:"password",placeholder:"Password","data-testid":"password-input",onChange:this.readForm,required:!0}))),r.a.createElement("div",{className:"field"},r.a.createElement("p",{className:"control"},r.a.createElement(o.b,{to:"/carteira"},r.a.createElement("button",{className:"button is-success",type:"button",disabled:!a||!t,onClick:function(){return c(n)}},"Entrar")))))}}]),a}(r.a.Component),v=Object(l.b)(null,(function(e){return{saveLogin:function(t){return e({type:"SAVE_LOGIN",email:t})}}}))(f),O=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.inputValue;return r.a.createElement("label",{htmlFor:"Valor"},"Valor",r.a.createElement("input",{type:"number",name:"value",id:"Valor",onChange:e}))}}]),a}(r.a.Component),j=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.inputValue;return r.a.createElement("label",{htmlFor:"Descri\xe7\xe3o"},"Descri\xe7\xe3o",r.a.createElement("input",{type:"text",name:"description",id:"Descri\xe7\xe3o",onChange:e}))}}]),a}(r.a.Component),y=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.fetchCoins)()}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.inputValue;return console.log("Eu sou o data",t),r.a.createElement("label",{htmlFor:"Moeda"},"Moeda",r.a.createElement("select",{id:"Moeda",name:"currency",onChange:a},t&&t.map((function(e){return Object.values(e).map((function(e){return e})).filter((function(e){return"BRLT"!==e.codein})).map((function(e,t){return r.a.createElement("option",{key:t},e.code)}))}))))}}]),a}(r.a.Component),g=Object(l.b)((function(e){return{data:e.wallet.currencies}}),(function(e){return{fetchCoins:function(){return e(b())}}}))(y),k=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.inputValue;return r.a.createElement("label",{htmlFor:"M\xe9todo de pagamento"},"M\xe9todo de pagamento",r.a.createElement("select",{name:"method",id:"M\xe9todo de pagamento",onChange:e},["Dinheiro","Cart\xe3o de cr\xe9dito","Cart\xe3o de d\xe9bito"].map((function(e,t){return r.a.createElement("option",{key:t},e)}))))}}]),a}(r.a.Component),C=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.inputValue;return r.a.createElement("label",{htmlFor:"Tag"},"Tag",r.a.createElement("select",{name:"tag",id:"Tag",onChange:e},["Alimenta\xe7\xe3o","Lazer","Trabalho","Transporte","Sa\xfade"].map((function(e,t){return r.a.createElement("option",{key:t},e)}))))}}]),a}(r.a.Component),S=(a(43),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"convertCambio",value:function(e){var t=e.value,a=e.currency,n=e.exchangeRates,r=Object.values(n).find((function(e){return e.code===a})).ask;return(Number(r)*t).toFixed(2)}},{key:"completedName",value:function(e){var t=e.currency,a=e.exchangeRates;return Object.values(a).find((function(e){return e.code===t})).name}},{key:"rateCambio",value:function(e){var t=e.currency,a=e.exchangeRates,n=Object.values(a).find((function(e){return e.code===t})).ask;return Number(n).toFixed(2)}},{key:"render",value:function(){var e=this,t=this.props,a=t.expenses,n=t.delExpenses;return r.a.createElement("table",null,r.a.createElement("tr",{className:"row"},r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Editar/Excluir")),a.map((function(t){return r.a.createElement("tr",{key:t.id,className:""},r.a.createElement("td",{key:t.id},t.id),r.a.createElement("td",{key:t.id},t.description),r.a.createElement("td",{key:t.id},t.tag),r.a.createElement("td",{key:t.id},t.method),r.a.createElement("td",{key:t.id},t.value),r.a.createElement("td",{key:t.id},e.completedName(t)),r.a.createElement("td",{key:t.id},e.rateCambio(t)),r.a.createElement("td",{key:t.id},e.convertCambio(t)),r.a.createElement("td",{key:t.id},"Real"),r.a.createElement("button",{"data-testid":"delete-btn",type:"button",onClick:function(){return n(t.id)}},"Deletar"))})))}}]),a}(n.Component)),x=Object(l.b)((function(e){return{expenses:e.wallet.expenses}}),(function(e){return{delExpenses:function(t){return e({type:"DELETE_EXPENSES",expenses:t})}}}))(S),N=(a(44),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={id:0,value:"",description:"",currency:"",method:"",tag:"",exchangeRates:[]},e.readInput=e.readInput.bind(Object(E.a)(e)),e.sendData=e.sendData.bind(Object(E.a)(e)),e}return Object(u.a)(a,[{key:"readInput",value:function(e){var t,a=e.target,n=a.value,r=a.name,c=this.props.data;this.setState((t={},Object(h.a)(t,r,n),Object(h.a)(t,"exchangeRates",c[0]),t))}},{key:"calulator",value:function(){var e=this.props.expenses;console.log(e);var t=e.reduce((function(e,t){var a=t.exchangeRates,n=t.currency,r=t.value;return e+Number(a[n].ask)*Number(r)}),0);return console.log(t),t.toFixed(2)}},{key:"sendData",value:function(){var e=this.props,t=e.saveExpenses;(0,e.fetchCoins)(),this.setState((function(e){return{id:e.id+1}})),t(this.state)}},{key:"render",value:function(){var e=this.props.email,t=this.state.currency;return r.a.createElement("section",null,r.a.createElement("header",null,r.a.createElement("h1",null,"TrybeWallet"),r.a.createElement("h3",{"data-testid":"email-field"},r.a.createElement("p",null,"Bem vindo!"),e),r.a.createElement("h2",{"data-testid":"total-field"},"Total:",this.calulator()),r.a.createElement("h2",{"data-testid":"header-currency-field"},"BRL")),r.a.createElement("form",{className:"myform"},r.a.createElement(O,{inputValue:this.readInput}),r.a.createElement(j,{inputValue:this.readInput}),r.a.createElement(g,{inputValue:this.readInput}),r.a.createElement(k,{inputValue:this.readInput}),r.a.createElement(C,{inputValue:this.readInput}),r.a.createElement("button",{type:"button",onClick:this.sendData,disabled:!t},"Adicionar despesa")),r.a.createElement("br",null),r.a.createElement(x,null))}}]),a}(r.a.Component)),w=Object(l.b)((function(e){return{email:e.user.email,data:e.wallet.currencies,expenses:e.wallet.expenses}}),(function(e){return{saveExpenses:function(t){return e({type:"SAVE_EXPENSES",expenses:t})},fetchCoins:function(){return e(b())}}}))(N),R=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:v}),r.a.createElement(p.a,{path:"/carteira",component:w}))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=a(14),V=a(29),I=a(30),_=a(8),D={email:""};var L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_LOGIN":return Object(_.a)(Object(_.a)({},e),{},{email:t.email});default:return e}},F=a(25),P={currencies:[],expenses:[],isLoading:!1};var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_COINS":return Object(_.a)(Object(_.a)({},e),{},{isLoading:!0});case"REQUEST_COINS_SUCCESS":return Object(_.a)(Object(_.a)({},e),{},{currencies:[].concat(Object(F.a)(e.currencies),[t.data]),isLoading:!1});case"REQUEST_COINS_ERROR":return Object(_.a)(Object(_.a)({},e),{},{isLoading:!1});case"SAVE_EXPENSES":return Object(_.a)(Object(_.a)({},e),{},{expenses:[].concat(Object(F.a)(e.expenses),[t.expenses]),isLoading:!1});case"DELETE_EXPENSES":return Object(_.a)(Object(_.a)({},e),{},{expenses:e.expenses.filter((function(e){return e.id!==t.expenses})),isLoading:!1});default:return e}},M=Object(T.combineReducers)({user:L,wallet:A}),U=Object(T.createStore)(M,Object(I.composeWithDevTools)(Object(T.applyMiddleware)(V.a)));i.a.render(r.a.createElement(l.a,{store:U},r.a.createElement(o.a,{basename:"/tarcisio-menezes"},r.a.createElement(R,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.f8cb0b97.chunk.js.map